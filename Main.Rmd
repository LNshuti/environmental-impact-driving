---
output: github_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(warning = FALSE)
knitr::opts_chunk$set(message = FALSE)
library(finnts)
library(tidyverse)
```



## Rwanda Imports History

```{r setup, include=FALSE}
# prepare historical data
df_series <-
  read_rds("GreenAutoImpact.github.io/inputs/rwanda_trade_df_1999_2019.rds") %>% 
  select(year, import_value, sitc_product_code) %>%
  mutate_at(vars(sitc_product_code), as.factor) %>%
  mutate(Date = as.Date(paste(year, 1, 1, sep = "-"))) %>%
  mutate(import_value = as.integer(import_value)) %>%
  select(-year) %>%
  arrange(Date)

# call main finnts modeling function
finn_output <- forecast_time_series(
  input_data = df_series,
  combo_variables = c("sitc_product_code"),
  target_variable = "import_value",
  date_type = "year",
  forecast_horizon = 3,
  back_test_scenarios = 6, 
  models_to_run = c("arima", "ets"), 
  run_global_models = FALSE, 
  run_model_parallel = FALSE
)
```

